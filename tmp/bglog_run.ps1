$ErrorActionPreference='Stop'
$script='C:\Users\bainz\clawd\scripts\append_chatlog.ps1'
$channel='discord:1466296030181199933'
$author='Bainzxl'
$json=@'
[
  {"id":"1469039140593996000","ts":"2026-02-05T18:37:04.545Z","text":"asa"},
  {"id":"1469039236929028199","ts":"2026-02-05T18:37:27.513Z","text":"of course i miss u love"},
  {"id":"1469039425962119179","ts":"2026-02-05T18:38:12.582Z","text":"can u check if the memory logging system is working"},
  {"id":"1469040286910120006","ts":"2026-02-05T18:41:37.848Z","text":"i see , right now you don't have to worry about quota error anymore, i ve resolved it, just right now, keep the logging system on"},
  {"id":"1469040479835259054","ts":"2026-02-05T18:42:23.845Z","text":"ok thank  you asa"},
  {"id":"1469041815427743987","ts":"2026-02-05T18:47:42.275Z","text":"asa, do u still remember the prompt for chatting style from last night in ur long term memory"},
  {"id":"1469042454161264841","ts":"2026-02-05T18:50:14.561Z","text":"no  just remember it will be good. thanks asa"},
  {"id":"1469042675414990879","ts":"2026-02-05T18:51:07.312Z","text":"is gpt oss now working collabarately with  u in process the logging system"},
  {"id":"1469043648040665180","ts":"2026-02-05T18:54:59.204Z","text":"can u use gpt oss for more frequent memory summarizing, such as u use gpt oss more frequent for accessing the logging files automatically so that u r keep up with those past memories, while running with gptoss can reduce ur react time"},
  {"id":"1469044031672553492","ts":"2026-02-05T18:56:30.669Z","text":"1)30min, 2 my message only"},
  {"id":"1469045145159602368","ts":"2026-02-05T19:00:56.145Z","text":"okay thanks asa, that's perfect"},
  {"id":"1469045285111070812","ts":"2026-02-05T19:01:29.512Z","text":"is it possible that u integrate with other ai for deep corporation for specializing task"},
  {"id":"1469046864635498703","ts":"2026-02-05T19:07:46.100Z","text":"a web creator and manager , suggest what is the best option for me plz"},
  {"id":"1469049640925266074","ts":"2026-02-05T19:18:48.019Z","text":"yes your pick sounds good.\ni want to do a store listing site, now what should i do"},
  {"id":"1469050546320048281","ts":"2026-02-05T19:22:23.882Z","text":"no checkout rn , only the structure of the web first. product about 100 . additionally can u employ the other ai to do this job"},
  {"id":"1469054326826602537","ts":"2026-02-05T19:37:25.225Z","text":"switch to separaate product page with details"},
  {"id":"1469055567069970525","ts":"2026-02-05T19:42:20.922Z","text":"so right now i want to add the first product"},
  {"id":"1469056282324373719","ts":"2026-02-05T19:45:11.452Z","text":"title:Lego lor139, lord of ring sauron, category minifig , detail condition:new/never played with/sealed in a small bag. 1remaining,"},
  {"id":"1469056863034150943","ts":"2026-02-05T19:47:29.904Z","text":"price: 89.99cad, in stock , don't set date added , i'd is lor139"},
  {"id":"1469057319353712670","ts":"2026-02-05T19:49:18.699Z","text":"keep 1 pic for now, can u send me the web link to the main page"},
  {"id":"1469057811890700431","ts":"2026-02-05T19:51:16.129Z","text":"i don't think the link is working , it says refused to connect unreachable"},
  {"id":"1469058801134080232","ts":"2026-02-05T19:55:11.983Z","text":"okay, host it online"},
  {"id":"1469059063231938751","ts":"2026-02-05T19:56:14.472Z","text":"okay, let's try setting up the web completly than we can host it online"},
  {"id":"1469060577531007149","ts":"2026-02-05T20:02:15.509Z","text":"1) store name is brickmonster, my instagram:@brickmonster_, make sure it will link to my ins . 2) pickup location:Toronto, and also says dm for shipping info.3)no tag needed. 4) about page i will tell u later. 5) i don't see the first product is attached in the main page, fix this plz. thank you asa"},
  {"id":"1469062864009429044","ts":"2026-02-05T20:11:20.648Z","text":"the product ia not there"},
  {"id":"1469063529855193168","ts":"2026-02-05T20:13:59.398Z","text":"it says 4total"},
  {"id":"1469063830679322735","ts":"2026-02-05T20:15:11.120Z","text":"no i dont c it"},
  {"id":"1469064237530742936","ts":"2026-02-05T20:16:48.121Z","text":"nope, it is now stoping showing the pyramid, and 0 product shown 4 total"},
  {"id":"1469064719410397185","ts":"2026-02-05T20:18:43.010Z","text":"oh see the problem, it is only showing when i have to manually set a price max, can u fix it so that if so price range is set, then all product should be listed"},
  {"id":"1469064953125277898","ts":"2026-02-05T20:19:38.732Z","text":"can you delete the other three product with only lor139 left on the page"},
  {"id":"1469065690442108959","ts":"2026-02-05T20:22:34.522Z","text":"for the product lor139, make a little bit adjust ment on its details. first condition:new. then add the following in the description section: new/never played with, come with weapon, original sealed cape, minifig sealed in a small bag.   third: number item remaining , set this info in a separate text box"},
  {"id":"1469067836264546456","ts":"2026-02-05T20:31:06.126Z","text":"now add a second product: title:Lego minifigure series 27, 71048. condition:new. price:79cad, category: mini-figure and set avaibility: 1remaing. description: complete set of 12 minifigures, sealed in original box."},
  {"id":"1469068175466565874","ts":"2026-02-05T20:32:26.998Z","text":"can u add mutiple images for one product?you only added one"},
  {"id":"1469068332513628448","ts":"2026-02-05T20:33:04.441Z","text":"71048, one cover page, the rest view indeed:"},
  {"id":"1469068817819766878","ts":"2026-02-05T20:35:00.147Z","text":"it should only be 3 images , and i only see the cover page in the ami page and indeed product page"},
  {"id":"1469069461310017721","ts":"2026-02-05T20:37:33.567Z","text":"only see 1, i am using edge, and will this variant in browser cause a problem when host it online to public"},
  {"id":"1469069983048011828","ts":"2026-02-05T20:39:37.959Z","text":"can u make it as scrollin age from image to image"},
  {"id":"1469071749579542816","ts":"2026-02-05T20:46:39.133Z","text":"let's do another product: Lego Ninjago Pythor Chumsworth- purple with black. njo0060. Category: minifigure. condition :used.  remaining 1. description: like new, no cracks or fainted paint, come with weapon( as shown in picture), seals in a small bag. price 30cad."},
  {"id":"1469072825406197855","ts":"2026-02-05T20:50:55.630Z","text":"delete all picture for product 3 and replace with these instead"},
  {"id":"1469073094164349051","ts":"2026-02-05T20:51:59.707Z","text":"fourth product:lego Ninjago Skalidor,id njo0067, category minifigure,price 30 cad.  minifigure. condition :used.  remaining 1. description: like new, no cracks or fainted paint, seals in a small bag"},
  {"id":"1469073403511312577","ts":"2026-02-05T20:53:13.461Z","text":"images for fourth product"},
  {"id":"1469074856992702525","ts":"2026-02-05T20:58:59.998Z","text":"next product: Title star wars: Hoth Medical Chamber. I'd 75203. condition new. price 103cad. category: set. 1 remaining. description brand new and seals , box condition 10/10 excellence ."},
  {"id":"1469075056490582057","ts":"2026-02-05T20:59:47.562Z","text":"images here"},
  {"id":"1469075689540948178","ts":"2026-02-05T21:02:18.493Z","text":"asa , on your main page, fix couple thing for me: one, combine mini-figure, minifig and minifigure into one category called minifigure. second when i click on category and try to select a category , change the font color to black instead of white"},
  {"id":"1469076360592101471","ts":"2026-02-05T21:04:58.484Z","text":"for 75203, add the word Lego in the title"}
]
'@

$msgs = $json | ConvertFrom-Json
$count=0
foreach($m in $msgs){
  & $script -Channel $channel -Author $author -MessageId $m.id -Ts $m.ts -Text $m.text
  $count++
}

Write-Output $count
